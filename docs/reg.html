<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Exploring Protected Classes as Predictors in Mortgage Approval - 9&nbsp; Regression Modeling</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./references.html" rel="next">
<link href="./dt.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./reg.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Regression Modeling</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Exploring Protected Classes as Predictors in Mortgage Approval</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/pconnell/ML" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <a href="./ML-Final-Report.pdf" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data Gathering and Exploratory Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pca.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Principal Component Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mca.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Multiple Correspondence Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./clustering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data Clustering</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./arm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Association Rule Mining</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nb.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Naive Bayes</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dt.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Decision Tree Modeling</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reg.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Regression Modeling</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Data Gathering/Cleaning Code</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Component Analysis Code (PCA and MCA)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Association Rule Mining Code</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Naive Bayes Code</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">E</span>&nbsp; <span class="chapter-title">Decision Tree Code</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">F</span>&nbsp; <span class="chapter-title">Regression Code</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app8-mca.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">G</span>&nbsp; <span class="chapter-title">Multiple Correspondence Analysis</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview"><span class="header-section-number">9.1</span> Overview</a>
  <ul class="collapse">
  <li><a href="#linear-regression" id="toc-linear-regression" class="nav-link" data-scroll-target="#linear-regression"><span class="header-section-number">9.1.1</span> Linear Regression</a></li>
  <li><a href="#logistic-regression" id="toc-logistic-regression" class="nav-link" data-scroll-target="#logistic-regression"><span class="header-section-number">9.1.2</span> Logistic Regression</a></li>
  </ul></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data"><span class="header-section-number">9.2</span> Data</a>
  <ul class="collapse">
  <li><a href="#logistic-regression-data" id="toc-logistic-regression-data" class="nav-link" data-scroll-target="#logistic-regression-data"><span class="header-section-number">9.2.1</span> Logistic Regression Data</a></li>
  <li><a href="#multinomial-naive-bayes" id="toc-multinomial-naive-bayes" class="nav-link" data-scroll-target="#multinomial-naive-bayes"><span class="header-section-number">9.2.2</span> Multinomial Naive Bayes</a></li>
  </ul></li>
  <li><a href="#code" id="toc-code" class="nav-link" data-scroll-target="#code"><span class="header-section-number">9.3</span> Code</a></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results"><span class="header-section-number">9.4</span> Results</a>
  <ul class="collapse">
  <li><a href="#logistic-regression-1" id="toc-logistic-regression-1" class="nav-link" data-scroll-target="#logistic-regression-1"><span class="header-section-number">9.4.1</span> Logistic Regression</a></li>
  <li><a href="#multinomial-naive-bayes-1" id="toc-multinomial-naive-bayes-1" class="nav-link" data-scroll-target="#multinomial-naive-bayes-1"><span class="header-section-number">9.4.2</span> Multinomial Naive Bayes</a></li>
  </ul></li>
  <li><a href="#overall" id="toc-overall" class="nav-link" data-scroll-target="#overall"><span class="header-section-number">9.5</span> Overall</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-reg" class="quarto-section-identifier"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Regression Modeling</span></span></h1>
</div>



<div class="quarto-title-meta column-body">

    
  
    
  </div>
  


</header>


<!-- 
Rubric Items

* Regression Questions and Overview
Answer all five questions by keeping answers short and succinct and no more than 4 - 5 sentences. The Regression algorithm is explained well enough so that a novice can get a broad understanding of how the model is trained and how it makes predictions.

* Regression Data Preparation and code
Link and image of the sample train and test data to be used. Another image of cleaned data, if the sample data needs to be cleaned further before feeding it to the Regression algo. Perform both Logistic regression and Multinomial naive Bayes classification. Link to code for all of this.

* Regression results and conclusions
Discuss and visualize results, including confusion matrix and accuracy. What did you learn about your topic from the results?

(a) Define and explain linear regression.

(b) Define and explain logistic regression.

(c) How are they similar and how are they different?

(d) Does logistic regression use the Sigmoid function? Explain.

(e) Explain how maximum likelihood is connected to logistic regression.
-->
<section id="overview" class="level2" data-number="9.1">
<h2 data-number="9.1" class="anchored" data-anchor-id="overview"><span class="header-section-number">9.1</span> Overview</h2>
<section id="linear-regression" class="level3" data-number="9.1.1">
<h3 data-number="9.1.1" class="anchored" data-anchor-id="linear-regression"><span class="header-section-number">9.1.1</span> Linear Regression</h3>
<section id="what-is-linear-regression" class="level4" data-number="9.1.1.1">
<h4 data-number="9.1.1.1" class="anchored" data-anchor-id="what-is-linear-regression"><span class="header-section-number">9.1.1.1</span> What is Linear Regression?</h4>
<p>Linear regression is a special case of generalized linear modeling that seeks to minimize the mean squared error on a continuous spectrum between each all datapoints in the dataset and the predicted output value. It makes an assumption that the underlying data can be modeled using a weighted linear combination of sums:</p>
<p><span id="eq-linreg"><span class="math display">\[
\hat{y}=w_1x_1+w_2x_2+...+w_kx_k + b
\tag{9.1}\]</span></span></p>
<p>The optimization function is the mean squared error, or the distance between each datapoint in the dataset and the prediction line:</p>
<p><span id="eq-linreg-2"><span class="math display">\[
\text{MSE}_i = \frac{1}{n}\cdot\sum\limits_{i=1}^{n}(y_i-\hat{y}_i)^2
\tag{9.2}\]</span></span></p>
<p>The act of identifying the weights allows a user to make a prediction on the interval <span class="math inline">\((-\infty,\infty)\)</span> to make a numeric prediction for an output or dependent variable <span class="math inline">\(Y\)</span>, based upon a vector of input <span class="math inline">\(X\)</span>.</p>
</section>
</section>
<section id="logistic-regression" class="level3" data-number="9.1.2">
<h3 data-number="9.1.2" class="anchored" data-anchor-id="logistic-regression"><span class="header-section-number">9.1.2</span> Logistic Regression</h3>
<section id="what-is-logistic-regression" class="level4" data-number="9.1.2.1">
<h4 data-number="9.1.2.1" class="anchored" data-anchor-id="what-is-logistic-regression"><span class="header-section-number">9.1.2.1</span> What is Logistic Regression?</h4>
<p>Logistic regression is a method to predict a probability of a boolean outcome on the interval from <span class="math inline">\([0,1]\)</span>. To perform this action, logistic regression uses linear regression in combination with the sigmoid function <span class="math inline">\(\hat{y}=\frac{1}{1+e^{-z}}\)</span> where <span class="math inline">\(z = w_1x_1+w_2x_2+...+w_kx_k + b\)</span>, and gradient ascent (or descent, depending on implementation), to link the linear equation from all real numbers to the interval [0,1].</p>
</section>
<section id="how-do-logistic-and-linear-regression-compare" class="level4" data-number="9.1.2.2">
<h4 data-number="9.1.2.2" class="anchored" data-anchor-id="how-do-logistic-and-linear-regression-compare"><span class="header-section-number">9.1.2.2</span> How do Logistic and Linear Regression Compare?</h4>
<p>The key similarity between linear and logisitic regression is the use of a linear combination of weighted sums as in <a href="#eq-linreg" class="quarto-xref">Equation&nbsp;<span>9.1</span></a> above, and each leverage an optimization problem to maximize performance of their predictive outcomes. However, this is about where their similarities end. The difference in the output space (<span class="math inline">\((-\infty,\infty)\)</span> vs <span class="math inline">\([0,1]\)</span>), the type of optimization problem used (mean squared error minimization vs.&nbsp;maximum likelihood estimation), and their applications (continuous numeric prediction vs.&nbsp;probability prediction), truly set these two regression methods apart.</p>
</section>
<section id="how-does-logistic-regression-predict-probability" class="level4" data-number="9.1.2.3">
<h4 data-number="9.1.2.3" class="anchored" data-anchor-id="how-does-logistic-regression-predict-probability"><span class="header-section-number">9.1.2.3</span> How Does Logistic Regression Predict Probability?</h4>
<p>The sigmoid function is paramount in the implementation of logisitic regression as it remaps the output space of a linear regression to have limited bounds on the interval <span class="math inline">\([0,1]\)</span>. Since linear regression has an infinite output space, it is less useful in the prediction of an outcome or a class. The sigmoid function, and derivations from it, are used to train logistic regression models and to make predictions with them once they are trained.</p>
</section>
<section id="how-is-logistic-regression-trained" class="level4" data-number="9.1.2.4">
<h4 data-number="9.1.2.4" class="anchored" data-anchor-id="how-is-logistic-regression-trained"><span class="header-section-number">9.1.2.4</span> How is Logistic Regression Trained?</h4>
<p>Maximum likelihood estimation is used as part of the optimization effort for a logisitic regression. Each weight <span class="math inline">\(w_i\)</span> in the equation for <span class="math inline">\(z\)</span> above needs to be adapted and adjusted so as to maximize the likelihood that the input dataset is correctly classified. To calculate the change in probability, the algorithm leverages partial derivatives to calculate how each weight should be adjusted while pursuing a local maximum (gradient ascent) or minimum (gradient descent) using</p>
<ul>
<li><p>the log likelihood function <span id="eq-log-likelihood"><span class="math display">\[
\text{log(p(y|x)} = \sum\limits_{i=1}^ny_i\cdot \text{log}(\hat{y}_i)+(1-y_i)\cdot\text{log}(1-\hat{y}_i)
\tag{9.3}\]</span></span></p></li>
<li><p>partial derivatives of the likelihood with respect to each feature <span id="eq-deriv"><span class="math display">\[
\frac{\delta L}{\delta w_i} = (\hat{y_i}-y_i)x_i = \frac{\delta L}{\delta \hat{y}_i}\frac{\delta\hat{y}_i}{\delta z}\frac{\delta z}{\delta w_i}
\tag{9.4}\]</span></span></p></li>
</ul>
<p>to iteratively move the needle in the right direction.</p>
</section>
<section id="how-is-maximum-likelihood-used-in-logisitic-regression" class="level4" data-number="9.1.2.5">
<h4 data-number="9.1.2.5" class="anchored" data-anchor-id="how-is-maximum-likelihood-used-in-logisitic-regression"><span class="header-section-number">9.1.2.5</span> How Is Maximum Likelihood Used in Logisitic Regression?</h4>
<p>Using the above, each iteration of a logistic regression seeks to increase the likelihood, or probability to that a given input vector <span class="math inline">\(X\)</span> will be classified as the appropriate category <span class="math inline">\(Y\)</span> by adjusting the weights to bring the output probability closer to zero when <span class="math inline">\(X\)</span> is not a member of <span class="math inline">\(Y\)</span>, and closer to 1 when <span class="math inline">\(X\)</span> is a member of <span class="math inline">\(Y\)</span>. This method can enter the pitfall of solely achieving a local minimum or maximum vs.&nbsp;a global minimum or maximum, as one cannot directly know or infer a parametric equation for <span class="math inline">\(\text{log(p(y|x))}\)</span>.</p>
</section>
</section>
</section>
<section id="data" class="level2" data-number="9.2">
<h2 data-number="9.2" class="anchored" data-anchor-id="data"><span class="header-section-number">9.2</span> Data</h2>
<p>The data used for logistic regression is output from the multiple correspondence analysis (MCA) section. The code will leverage two outputs - the MCA that includes the protected classes, and the MCA that does not.</p>
<p>The process to generate these data is contained and described in <a href="app8-mca.html" class="quarto-xref"><span>Appendix G</span></a>.</p>
<ul>
<li><p><a href="https://drive.google.com/file/d/1dL3PqH21TRA9PMhIbUJ3KuNuvWrtGPeh/view?usp=drive_link">Source Data</a></p></li>
<li><p><a href="https://drive.google.com/file/d/1RPhKt5ZOlPsxo9bD8skxXjqH9rnMDpXR/view?usp=drive_link">Multiple Correspondence Analysis - With Protected Classes</a></p></li>
<li><p><a href="https://drive.google.com/file/d/1KZ6PmBicp02w8iphzMZxf0m29O5L2o0i/view?usp=drive_link">Multiple Correspondence Analysis - Without Protected Classes</a></p></li>
<li><p><a href="https://drive.google.com/file/d/1Br4X_FhYl673QKQo5PlDkyEs6FjjvFzn/view?usp=drive_link">MultinomialNB - With Protected Classes</a></p></li>
<li><p><a href="https://drive.google.com/file/d/1TefbM2T1AcnLxcyHkgSelqNEoDDGKBrn/view?usp=drive_link">MultinomialNB - Without Protected Classes</a></p></li>
</ul>
<section id="logistic-regression-data" class="level3" data-number="9.2.1">
<h3 data-number="9.2.1" class="anchored" data-anchor-id="logistic-regression-data"><span class="header-section-number">9.2.1</span> Logistic Regression Data</h3>
<p>As done in <a href="nb.html" class="quarto-xref"><span>Chapter 7</span></a> for train test splits - the indexes are disjoint between training and testing datasets for each parent dataset (with and without protected classes), and each model is trained with the same records for comparison and evaluation against one another (same records for training and testing allow for direct comparison of the models).</p>
<p>By achieving these splits, the two models evaluated with and without protected class information will avoid unnecessary biases in the results. When a model is tested on data with which it has already been trained, the model has already optimized to the best of its ability to correctly classify the training data. As such, the outcome of an evaluation of a model using the same data in training and testing will artificially inflate its performance metrics (accuracy, precision, recall, F1, ROC-AUC). As such, it is paramount to have a disjoint training and testing dataset.</p>
<p>Here are the first few rows of the training and testing data (excluding protected classes):</p>
<div class="cell" data-execution_count="3">
<div id="tbl-mca-pc-trn" class="cell quarto-float anchored" data-execution_count="3">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-mca-pc-trn-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9.1: MCA Training Data (With Protected Classes)
</figcaption>
<div aria-describedby="tbl-mca-pc-trn-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display">
<div>


<table class="dataframe do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">MC1</th>
<th data-quarto-table-cell-role="th">MC2</th>
<th data-quarto-table-cell-role="th">MC3</th>
<th data-quarto-table-cell-role="th">MC4</th>
<th data-quarto-table-cell-role="th">MC5</th>
<th data-quarto-table-cell-role="th">MC6</th>
<th data-quarto-table-cell-role="th">MC7</th>
<th data-quarto-table-cell-role="th">MC8</th>
<th data-quarto-table-cell-role="th">MC9</th>
<th data-quarto-table-cell-role="th">MC10</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">MC173</th>
<th data-quarto-table-cell-role="th">MC174</th>
<th data-quarto-table-cell-role="th">MC175</th>
<th data-quarto-table-cell-role="th">MC176</th>
<th data-quarto-table-cell-role="th">MC177</th>
<th data-quarto-table-cell-role="th">MC178</th>
<th data-quarto-table-cell-role="th">MC179</th>
<th data-quarto-table-cell-role="th">MC180</th>
<th data-quarto-table-cell-role="th">MC181</th>
<th data-quarto-table-cell-role="th">outcome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">149746</td>
<td>-0.387299</td>
<td>-0.001936</td>
<td>-0.003167</td>
<td>-0.003736</td>
<td>-0.024160</td>
<td>-0.058848</td>
<td>-0.161641</td>
<td>-0.163059</td>
<td>0.051339</td>
<td>-0.009136</td>
<td>...</td>
<td>0.003101</td>
<td>-0.001341</td>
<td>0.000861</td>
<td>0.004199</td>
<td>-0.000527</td>
<td>-0.002532</td>
<td>-0.008719</td>
<td>-0.000873</td>
<td>-0.002317</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">105015</td>
<td>-0.386534</td>
<td>0.007586</td>
<td>0.005638</td>
<td>-0.149832</td>
<td>0.037838</td>
<td>0.251784</td>
<td>0.098772</td>
<td>-0.104072</td>
<td>0.013961</td>
<td>-0.418258</td>
<td>...</td>
<td>0.000377</td>
<td>0.001873</td>
<td>0.001106</td>
<td>-0.027093</td>
<td>0.005149</td>
<td>0.003389</td>
<td>0.007496</td>
<td>-0.003416</td>
<td>0.003757</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">29094</td>
<td>0.584290</td>
<td>-0.011996</td>
<td>-0.005619</td>
<td>0.162373</td>
<td>-0.135637</td>
<td>-0.251829</td>
<td>-0.104188</td>
<td>-0.168750</td>
<td>-0.177008</td>
<td>0.118405</td>
<td>...</td>
<td>0.022515</td>
<td>-0.007842</td>
<td>-0.002415</td>
<td>-0.049875</td>
<td>0.001095</td>
<td>0.072832</td>
<td>-0.005292</td>
<td>0.078073</td>
<td>0.014257</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">101082</td>
<td>-0.334664</td>
<td>0.002222</td>
<td>0.000164</td>
<td>-0.101558</td>
<td>0.021665</td>
<td>-0.211819</td>
<td>0.279624</td>
<td>0.695377</td>
<td>0.687991</td>
<td>-0.076981</td>
<td>...</td>
<td>0.026285</td>
<td>0.001354</td>
<td>-0.002768</td>
<td>0.006803</td>
<td>0.007875</td>
<td>0.004828</td>
<td>0.006313</td>
<td>-0.007748</td>
<td>0.009507</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">77750</td>
<td>-0.281561</td>
<td>0.009739</td>
<td>0.007302</td>
<td>0.294964</td>
<td>-0.119251</td>
<td>0.159063</td>
<td>0.758784</td>
<td>-0.039995</td>
<td>-0.195625</td>
<td>0.002697</td>
<td>...</td>
<td>-0.052733</td>
<td>-0.000610</td>
<td>-0.008253</td>
<td>0.117513</td>
<td>0.000083</td>
<td>0.007967</td>
<td>-0.010744</td>
<td>-0.000727</td>
<td>0.000273</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">197336</td>
<td>0.486499</td>
<td>-0.010249</td>
<td>-0.000090</td>
<td>-0.015523</td>
<td>-0.006435</td>
<td>0.167655</td>
<td>-0.198908</td>
<td>0.150687</td>
<td>-0.162005</td>
<td>0.046811</td>
<td>...</td>
<td>-0.012404</td>
<td>-0.000997</td>
<td>-0.002124</td>
<td>0.001909</td>
<td>0.000212</td>
<td>-0.007067</td>
<td>0.015649</td>
<td>0.006640</td>
<td>-0.000096</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">137650</td>
<td>0.467874</td>
<td>0.001350</td>
<td>-0.009676</td>
<td>-1.188243</td>
<td>0.363408</td>
<td>0.128250</td>
<td>0.223274</td>
<td>-0.317145</td>
<td>0.196431</td>
<td>-0.287222</td>
<td>...</td>
<td>-0.019506</td>
<td>-0.000767</td>
<td>-0.000612</td>
<td>-0.005116</td>
<td>0.001205</td>
<td>-0.005075</td>
<td>0.000100</td>
<td>-0.000287</td>
<td>-0.002095</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">136772</td>
<td>-0.367590</td>
<td>-0.001345</td>
<td>-0.000256</td>
<td>-0.156002</td>
<td>0.020358</td>
<td>-0.132456</td>
<td>0.018576</td>
<td>-0.093998</td>
<td>0.103849</td>
<td>0.001622</td>
<td>...</td>
<td>-0.106859</td>
<td>0.004671</td>
<td>0.000376</td>
<td>0.009465</td>
<td>-0.000201</td>
<td>0.007182</td>
<td>-0.011129</td>
<td>-0.008761</td>
<td>-0.001996</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">41734</td>
<td>-0.330008</td>
<td>0.011018</td>
<td>0.006242</td>
<td>0.272821</td>
<td>-0.054578</td>
<td>0.325838</td>
<td>0.372732</td>
<td>0.030138</td>
<td>-0.028335</td>
<td>0.063026</td>
<td>...</td>
<td>0.011053</td>
<td>0.001163</td>
<td>0.004312</td>
<td>-0.062842</td>
<td>0.000968</td>
<td>0.007450</td>
<td>-0.009850</td>
<td>-0.003101</td>
<td>0.003397</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10710</td>
<td>-0.426415</td>
<td>-0.004343</td>
<td>-0.003192</td>
<td>0.108570</td>
<td>-0.054307</td>
<td>-0.125460</td>
<td>-0.280849</td>
<td>0.185723</td>
<td>-0.081365</td>
<td>0.132101</td>
<td>...</td>
<td>0.020289</td>
<td>-0.005505</td>
<td>0.000400</td>
<td>0.092377</td>
<td>0.001436</td>
<td>0.006528</td>
<td>-0.011197</td>
<td>0.000699</td>
<td>-0.019417</td>
<td>1.0</td>
</tr>
</tbody>
</table>

<p>10 rows × 182 columns</p>
</div>
</div>
</div>
</figure>
</div>
</div>
<div class="cell" data-execution_count="4">
<div id="tbl-mca-pc-tst" class="cell quarto-float anchored" data-execution_count="4">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-mca-pc-tst-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9.2: MCA Testing Data (With Protected Classes)
</figcaption>
<div aria-describedby="tbl-mca-pc-tst-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display">
<div>


<table class="dataframe do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">MC1</th>
<th data-quarto-table-cell-role="th">MC2</th>
<th data-quarto-table-cell-role="th">MC3</th>
<th data-quarto-table-cell-role="th">MC4</th>
<th data-quarto-table-cell-role="th">MC5</th>
<th data-quarto-table-cell-role="th">MC6</th>
<th data-quarto-table-cell-role="th">MC7</th>
<th data-quarto-table-cell-role="th">MC8</th>
<th data-quarto-table-cell-role="th">MC9</th>
<th data-quarto-table-cell-role="th">MC10</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">MC173</th>
<th data-quarto-table-cell-role="th">MC174</th>
<th data-quarto-table-cell-role="th">MC175</th>
<th data-quarto-table-cell-role="th">MC176</th>
<th data-quarto-table-cell-role="th">MC177</th>
<th data-quarto-table-cell-role="th">MC178</th>
<th data-quarto-table-cell-role="th">MC179</th>
<th data-quarto-table-cell-role="th">MC180</th>
<th data-quarto-table-cell-role="th">MC181</th>
<th data-quarto-table-cell-role="th">outcome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">30860</td>
<td>-0.377629</td>
<td>-0.003778</td>
<td>-0.000284</td>
<td>0.123173</td>
<td>-0.082610</td>
<td>-0.252011</td>
<td>-0.083817</td>
<td>0.137802</td>
<td>-0.059589</td>
<td>0.146982</td>
<td>...</td>
<td>0.033447</td>
<td>-0.004992</td>
<td>0.012373</td>
<td>-0.043422</td>
<td>-0.000974</td>
<td>0.003553</td>
<td>0.006232</td>
<td>0.001033</td>
<td>-0.018414</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">126890</td>
<td>-0.467556</td>
<td>0.004930</td>
<td>-0.005359</td>
<td>-0.641571</td>
<td>0.206492</td>
<td>0.242741</td>
<td>-0.226606</td>
<td>-0.014591</td>
<td>-0.472724</td>
<td>0.021588</td>
<td>...</td>
<td>0.010695</td>
<td>-0.000696</td>
<td>0.000022</td>
<td>0.016918</td>
<td>0.003402</td>
<td>-0.003975</td>
<td>-0.003803</td>
<td>0.001092</td>
<td>-0.000510</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28730</td>
<td>-0.413508</td>
<td>-0.005233</td>
<td>0.001155</td>
<td>0.121581</td>
<td>-0.085867</td>
<td>-0.230894</td>
<td>-0.106145</td>
<td>0.189636</td>
<td>-0.061267</td>
<td>0.069930</td>
<td>...</td>
<td>0.015688</td>
<td>0.000374</td>
<td>-0.005150</td>
<td>-0.031315</td>
<td>-0.003929</td>
<td>0.005044</td>
<td>0.008720</td>
<td>0.012316</td>
<td>-0.079917</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31244</td>
<td>-0.287660</td>
<td>-0.003570</td>
<td>0.003981</td>
<td>0.050584</td>
<td>-0.079588</td>
<td>-0.564932</td>
<td>0.493067</td>
<td>0.565763</td>
<td>0.294100</td>
<td>0.394073</td>
<td>...</td>
<td>0.071348</td>
<td>0.005973</td>
<td>0.002630</td>
<td>-0.031388</td>
<td>0.001923</td>
<td>-0.059667</td>
<td>0.008618</td>
<td>0.053812</td>
<td>0.008861</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">56105</td>
<td>0.475915</td>
<td>0.012787</td>
<td>-0.010241</td>
<td>0.304675</td>
<td>-0.048947</td>
<td>0.467680</td>
<td>-0.300472</td>
<td>-0.138536</td>
<td>0.078400</td>
<td>0.050529</td>
<td>...</td>
<td>0.021655</td>
<td>-0.007473</td>
<td>0.009129</td>
<td>-0.029546</td>
<td>0.005734</td>
<td>-0.003265</td>
<td>-0.093248</td>
<td>0.005869</td>
<td>-0.020469</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5443</td>
<td>-0.532447</td>
<td>-0.000680</td>
<td>-0.000100</td>
<td>0.149901</td>
<td>-0.052502</td>
<td>0.037784</td>
<td>-0.165450</td>
<td>0.385730</td>
<td>-0.450069</td>
<td>0.097568</td>
<td>...</td>
<td>-0.175609</td>
<td>0.002486</td>
<td>0.005582</td>
<td>-0.060549</td>
<td>-0.006316</td>
<td>-0.007500</td>
<td>0.009540</td>
<td>0.004287</td>
<td>0.003089</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">95702</td>
<td>0.488661</td>
<td>0.002546</td>
<td>0.001658</td>
<td>0.293300</td>
<td>-0.075460</td>
<td>0.567510</td>
<td>-0.399183</td>
<td>0.208255</td>
<td>0.236614</td>
<td>-0.575200</td>
<td>...</td>
<td>0.051268</td>
<td>-0.003152</td>
<td>-0.000812</td>
<td>0.022663</td>
<td>-0.002750</td>
<td>-0.011304</td>
<td>0.013903</td>
<td>0.001937</td>
<td>0.017053</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">83812</td>
<td>0.618010</td>
<td>-0.008268</td>
<td>0.003282</td>
<td>0.208434</td>
<td>-0.083836</td>
<td>0.068062</td>
<td>0.195019</td>
<td>0.212166</td>
<td>0.059184</td>
<td>-0.127586</td>
<td>...</td>
<td>-0.056974</td>
<td>-0.001156</td>
<td>-0.027070</td>
<td>0.117950</td>
<td>0.000061</td>
<td>0.008795</td>
<td>-0.008416</td>
<td>0.003242</td>
<td>-0.017692</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">84338</td>
<td>0.655969</td>
<td>-0.004918</td>
<td>-0.006596</td>
<td>0.294970</td>
<td>-0.113992</td>
<td>0.117014</td>
<td>-0.038303</td>
<td>-0.000417</td>
<td>0.119094</td>
<td>-0.173938</td>
<td>...</td>
<td>-0.025098</td>
<td>-0.003851</td>
<td>-0.015221</td>
<td>0.000430</td>
<td>0.005239</td>
<td>0.005173</td>
<td>-0.009246</td>
<td>0.003599</td>
<td>-0.017117</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">124545</td>
<td>0.570068</td>
<td>-0.019301</td>
<td>-0.010219</td>
<td>0.132395</td>
<td>-0.125488</td>
<td>-0.262735</td>
<td>0.254719</td>
<td>-0.193122</td>
<td>-0.455048</td>
<td>0.200752</td>
<td>...</td>
<td>0.018821</td>
<td>0.002103</td>
<td>0.000520</td>
<td>0.011330</td>
<td>-0.000257</td>
<td>0.012774</td>
<td>0.019057</td>
<td>0.005942</td>
<td>0.000166</td>
<td>1.0</td>
</tr>
</tbody>
</table>

<p>10 rows × 182 columns</p>
</div>
</div>
</div>
</figure>
</div>
</div>
<div class="cell" data-execution_count="5">
<div id="tbl-mca-npc-trn" class="cell quarto-float anchored" data-execution_count="5">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-mca-npc-trn-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9.3: MCA Training Data (Without Protected Classes)
</figcaption>
<div aria-describedby="tbl-mca-npc-trn-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display">
<div>


<table class="dataframe do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">MC1</th>
<th data-quarto-table-cell-role="th">MC2</th>
<th data-quarto-table-cell-role="th">MC3</th>
<th data-quarto-table-cell-role="th">MC4</th>
<th data-quarto-table-cell-role="th">MC5</th>
<th data-quarto-table-cell-role="th">MC6</th>
<th data-quarto-table-cell-role="th">MC7</th>
<th data-quarto-table-cell-role="th">MC8</th>
<th data-quarto-table-cell-role="th">MC9</th>
<th data-quarto-table-cell-role="th">MC10</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">MC92</th>
<th data-quarto-table-cell-role="th">MC93</th>
<th data-quarto-table-cell-role="th">MC94</th>
<th data-quarto-table-cell-role="th">MC95</th>
<th data-quarto-table-cell-role="th">MC96</th>
<th data-quarto-table-cell-role="th">MC97</th>
<th data-quarto-table-cell-role="th">MC98</th>
<th data-quarto-table-cell-role="th">MC99</th>
<th data-quarto-table-cell-role="th">MC100</th>
<th data-quarto-table-cell-role="th">outcome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">149746</td>
<td>-0.022191</td>
<td>-0.265491</td>
<td>-0.089926</td>
<td>0.030741</td>
<td>-0.203565</td>
<td>0.045974</td>
<td>0.036976</td>
<td>-0.158538</td>
<td>-0.089747</td>
<td>-0.118819</td>
<td>...</td>
<td>0.018080</td>
<td>-0.010963</td>
<td>-0.029876</td>
<td>-0.003884</td>
<td>-0.001979</td>
<td>0.007441</td>
<td>-0.007867</td>
<td>0.005483</td>
<td>-0.000806</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">105015</td>
<td>0.290036</td>
<td>0.178485</td>
<td>-0.157600</td>
<td>-0.271749</td>
<td>-0.245192</td>
<td>0.415834</td>
<td>0.123361</td>
<td>0.055042</td>
<td>-0.280792</td>
<td>-0.105106</td>
<td>...</td>
<td>0.032420</td>
<td>0.008380</td>
<td>-0.046675</td>
<td>-0.011824</td>
<td>0.044305</td>
<td>0.096120</td>
<td>0.266568</td>
<td>0.009842</td>
<td>0.006172</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">29094</td>
<td>-0.095327</td>
<td>-0.086033</td>
<td>-0.071726</td>
<td>-0.077756</td>
<td>-0.175656</td>
<td>-0.205904</td>
<td>-0.027044</td>
<td>-0.228361</td>
<td>-0.037807</td>
<td>-0.112685</td>
<td>...</td>
<td>0.011820</td>
<td>-0.023923</td>
<td>0.035317</td>
<td>0.019936</td>
<td>-0.090864</td>
<td>0.017211</td>
<td>0.003241</td>
<td>-0.006380</td>
<td>-0.000049</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">101082</td>
<td>-0.654622</td>
<td>0.371221</td>
<td>0.433967</td>
<td>0.351343</td>
<td>0.378372</td>
<td>1.075594</td>
<td>-0.389695</td>
<td>-0.187974</td>
<td>-0.091264</td>
<td>-0.120999</td>
<td>...</td>
<td>-0.048364</td>
<td>0.117014</td>
<td>-0.080124</td>
<td>0.017038</td>
<td>0.005769</td>
<td>0.113322</td>
<td>0.239627</td>
<td>0.041617</td>
<td>0.008369</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">77750</td>
<td>-0.011772</td>
<td>0.645262</td>
<td>0.057628</td>
<td>-0.176639</td>
<td>-0.285778</td>
<td>-0.331408</td>
<td>-0.273163</td>
<td>0.149750</td>
<td>-0.234999</td>
<td>0.106382</td>
<td>...</td>
<td>0.236344</td>
<td>-0.074790</td>
<td>-0.100306</td>
<td>-0.338227</td>
<td>-0.034114</td>
<td>0.028328</td>
<td>-0.038353</td>
<td>-0.014300</td>
<td>0.001131</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">197336</td>
<td>0.211278</td>
<td>-0.030244</td>
<td>0.227029</td>
<td>-0.003941</td>
<td>0.369867</td>
<td>-0.046471</td>
<td>0.319009</td>
<td>-0.191355</td>
<td>-0.301365</td>
<td>0.207057</td>
<td>...</td>
<td>0.031491</td>
<td>-0.015596</td>
<td>-0.012795</td>
<td>-0.014921</td>
<td>-0.018947</td>
<td>0.004192</td>
<td>-0.022371</td>
<td>0.006839</td>
<td>-0.000022</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">137650</td>
<td>-0.358538</td>
<td>0.051337</td>
<td>-0.836959</td>
<td>-0.183025</td>
<td>0.827005</td>
<td>-0.153045</td>
<td>-0.300371</td>
<td>0.067741</td>
<td>-0.113371</td>
<td>-0.321046</td>
<td>...</td>
<td>0.335969</td>
<td>-0.153317</td>
<td>0.006543</td>
<td>0.153396</td>
<td>0.313536</td>
<td>-0.124046</td>
<td>0.047060</td>
<td>-0.003220</td>
<td>0.003096</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">136772</td>
<td>-0.224883</td>
<td>-0.192682</td>
<td>-0.084809</td>
<td>0.117577</td>
<td>-0.313160</td>
<td>-0.083558</td>
<td>0.224909</td>
<td>0.148168</td>
<td>-0.065917</td>
<td>-0.105496</td>
<td>...</td>
<td>0.182218</td>
<td>0.384711</td>
<td>0.246450</td>
<td>-0.027070</td>
<td>-0.039627</td>
<td>-0.072453</td>
<td>0.029784</td>
<td>-0.224192</td>
<td>-0.000603</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">41734</td>
<td>0.126939</td>
<td>0.621233</td>
<td>0.144349</td>
<td>0.053672</td>
<td>-0.309407</td>
<td>-0.342110</td>
<td>-0.120858</td>
<td>0.063892</td>
<td>-0.205557</td>
<td>-0.164335</td>
<td>...</td>
<td>0.072717</td>
<td>-0.012892</td>
<td>-0.102817</td>
<td>-0.445682</td>
<td>-0.024483</td>
<td>0.166019</td>
<td>-0.124861</td>
<td>-0.005165</td>
<td>0.002151</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10710</td>
<td>0.163013</td>
<td>-0.275794</td>
<td>0.117153</td>
<td>-0.011200</td>
<td>-0.019967</td>
<td>0.048655</td>
<td>0.044069</td>
<td>-0.165311</td>
<td>0.018394</td>
<td>-0.103244</td>
<td>...</td>
<td>-0.030015</td>
<td>0.019834</td>
<td>-0.002256</td>
<td>-0.022811</td>
<td>0.042606</td>
<td>-0.007783</td>
<td>-0.012869</td>
<td>-0.010702</td>
<td>-0.000356</td>
<td>1.0</td>
</tr>
</tbody>
</table>

<p>10 rows × 101 columns</p>
</div>
</div>
</div>
</figure>
</div>
</div>
<div class="cell" data-execution_count="6">
<div id="tbl-mca-npc-tst" class="cell quarto-float anchored" data-execution_count="6">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-mca-npc-tst-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9.4: MCA Testing Data (Without Protected Classes)
</figcaption>
<div aria-describedby="tbl-mca-npc-tst-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display">
<div>


<table class="dataframe do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">MC1</th>
<th data-quarto-table-cell-role="th">MC2</th>
<th data-quarto-table-cell-role="th">MC3</th>
<th data-quarto-table-cell-role="th">MC4</th>
<th data-quarto-table-cell-role="th">MC5</th>
<th data-quarto-table-cell-role="th">MC6</th>
<th data-quarto-table-cell-role="th">MC7</th>
<th data-quarto-table-cell-role="th">MC8</th>
<th data-quarto-table-cell-role="th">MC9</th>
<th data-quarto-table-cell-role="th">MC10</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">MC92</th>
<th data-quarto-table-cell-role="th">MC93</th>
<th data-quarto-table-cell-role="th">MC94</th>
<th data-quarto-table-cell-role="th">MC95</th>
<th data-quarto-table-cell-role="th">MC96</th>
<th data-quarto-table-cell-role="th">MC97</th>
<th data-quarto-table-cell-role="th">MC98</th>
<th data-quarto-table-cell-role="th">MC99</th>
<th data-quarto-table-cell-role="th">MC100</th>
<th data-quarto-table-cell-role="th">outcome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">30860</td>
<td>0.021908</td>
<td>-0.107937</td>
<td>0.160667</td>
<td>-0.096196</td>
<td>0.018201</td>
<td>-0.101238</td>
<td>0.033902</td>
<td>-0.304192</td>
<td>0.099209</td>
<td>-0.167334</td>
<td>...</td>
<td>-0.041614</td>
<td>0.049508</td>
<td>0.024640</td>
<td>0.119880</td>
<td>0.038063</td>
<td>-0.152665</td>
<td>0.053603</td>
<td>-0.017657</td>
<td>-0.001590</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">126890</td>
<td>0.480633</td>
<td>-0.445114</td>
<td>0.321141</td>
<td>-0.039117</td>
<td>0.011562</td>
<td>-0.032186</td>
<td>-0.610614</td>
<td>0.551665</td>
<td>0.076726</td>
<td>0.035808</td>
<td>...</td>
<td>-0.031216</td>
<td>0.024834</td>
<td>-0.065209</td>
<td>-0.075517</td>
<td>0.059589</td>
<td>-0.056023</td>
<td>0.004988</td>
<td>0.007007</td>
<td>0.003624</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28730</td>
<td>-0.008824</td>
<td>-0.143329</td>
<td>0.122037</td>
<td>-0.081711</td>
<td>0.180048</td>
<td>-0.110025</td>
<td>0.093520</td>
<td>-0.358804</td>
<td>0.058229</td>
<td>-0.195015</td>
<td>...</td>
<td>-0.070911</td>
<td>0.049980</td>
<td>-0.013948</td>
<td>-0.019076</td>
<td>0.031768</td>
<td>-0.006892</td>
<td>-0.030458</td>
<td>-0.016992</td>
<td>-0.001599</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31244</td>
<td>-0.929934</td>
<td>0.290919</td>
<td>0.916922</td>
<td>0.393976</td>
<td>0.653189</td>
<td>0.575340</td>
<td>-0.367097</td>
<td>-0.433499</td>
<td>-0.010454</td>
<td>0.096068</td>
<td>...</td>
<td>0.139571</td>
<td>0.046301</td>
<td>-0.099484</td>
<td>-0.084230</td>
<td>-0.004915</td>
<td>0.071326</td>
<td>-0.032964</td>
<td>0.019019</td>
<td>0.000421</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">56105</td>
<td>0.414472</td>
<td>0.449156</td>
<td>-0.207480</td>
<td>-0.003224</td>
<td>-0.150305</td>
<td>0.032234</td>
<td>-0.191760</td>
<td>0.153439</td>
<td>1.021892</td>
<td>-0.041131</td>
<td>...</td>
<td>-0.055936</td>
<td>0.036294</td>
<td>0.038325</td>
<td>0.232323</td>
<td>0.003879</td>
<td>0.034577</td>
<td>0.006583</td>
<td>0.002948</td>
<td>0.006281</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5443</td>
<td>0.523671</td>
<td>-0.283900</td>
<td>0.655485</td>
<td>-0.123366</td>
<td>0.718045</td>
<td>-0.163190</td>
<td>-0.157075</td>
<td>0.188473</td>
<td>0.113406</td>
<td>0.062999</td>
<td>...</td>
<td>-0.058962</td>
<td>0.001311</td>
<td>0.019947</td>
<td>-0.076058</td>
<td>-0.048344</td>
<td>-0.037792</td>
<td>-0.004104</td>
<td>-0.015193</td>
<td>-0.001536</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">95702</td>
<td>0.473073</td>
<td>0.236969</td>
<td>-0.363466</td>
<td>-0.336683</td>
<td>-0.106912</td>
<td>1.000458</td>
<td>0.259367</td>
<td>0.206744</td>
<td>-0.271422</td>
<td>0.230963</td>
<td>...</td>
<td>-0.101931</td>
<td>0.052594</td>
<td>-0.061589</td>
<td>0.005126</td>
<td>-0.186917</td>
<td>-0.079407</td>
<td>-0.302814</td>
<td>-0.002668</td>
<td>-0.006435</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">83812</td>
<td>-0.140662</td>
<td>0.424349</td>
<td>0.083509</td>
<td>-0.163135</td>
<td>-0.410733</td>
<td>-0.206931</td>
<td>-0.126389</td>
<td>-0.014700</td>
<td>-0.278051</td>
<td>-0.149923</td>
<td>...</td>
<td>0.003635</td>
<td>0.030724</td>
<td>-0.095295</td>
<td>-0.276234</td>
<td>0.016694</td>
<td>0.262435</td>
<td>-0.092800</td>
<td>-0.011479</td>
<td>0.001361</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">84338</td>
<td>0.060723</td>
<td>0.581497</td>
<td>-0.263134</td>
<td>-0.246079</td>
<td>-0.336327</td>
<td>-0.090347</td>
<td>-0.142133</td>
<td>-0.116463</td>
<td>0.962056</td>
<td>0.254970</td>
<td>...</td>
<td>-0.010415</td>
<td>0.008387</td>
<td>-0.065012</td>
<td>-0.232432</td>
<td>0.236782</td>
<td>0.015017</td>
<td>0.039840</td>
<td>-0.005290</td>
<td>0.007312</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">124545</td>
<td>-0.019499</td>
<td>-0.310502</td>
<td>-0.078770</td>
<td>0.035220</td>
<td>-0.240221</td>
<td>0.032627</td>
<td>-0.037473</td>
<td>-0.112962</td>
<td>-0.098873</td>
<td>-0.104411</td>
<td>...</td>
<td>0.036539</td>
<td>-0.009720</td>
<td>-0.027945</td>
<td>-0.016062</td>
<td>0.043209</td>
<td>0.004422</td>
<td>0.017510</td>
<td>0.006984</td>
<td>0.000563</td>
<td>1.0</td>
</tr>
</tbody>
</table>

<p>10 rows × 101 columns</p>
</div>
</div>
</div>
</figure>
</div>
</div>
<p>Notice that each has a different number of components. Each is structured to a number of components required to explain at least approximately 99.99% of the variance in each dataset.</p>
<p>Similarly as in <a href="nb.html" class="quarto-xref"><span>Chapter 7</span></a> and <a href="dt.html" class="quarto-xref"><span>Chapter 8</span></a>, a 500 iteration randomization of source data test was performed against both models to compare a difference in means.</p>
</section>
<section id="multinomial-naive-bayes" class="level3" data-number="9.2.2">
<h3 data-number="9.2.2" class="anchored" data-anchor-id="multinomial-naive-bayes"><span class="header-section-number">9.2.2</span> Multinomial Naive Bayes</h3>
<p>The description for MultinomialNB data and code can be found in <a href="nb.html" class="quarto-xref"><span>Chapter 7</span></a>.</p>
<div class="cell" data-execution_count="8">
<div id="tbl-init-data" class="cell quarto-float anchored" data-execution_count="8">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-init-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9.5: Initial Data Used
</figcaption>
<div aria-describedby="tbl-init-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display" data-execution_count="8">
<div>


<table class="dataframe do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">state_code</th>
<th data-quarto-table-cell-role="th">county_code</th>
<th data-quarto-table-cell-role="th">derived_sex</th>
<th data-quarto-table-cell-role="th">action_taken</th>
<th data-quarto-table-cell-role="th">purchaser_type</th>
<th data-quarto-table-cell-role="th">preapproval</th>
<th data-quarto-table-cell-role="th">open-end_line_of_credit</th>
<th data-quarto-table-cell-role="th">loan_amount</th>
<th data-quarto-table-cell-role="th">loan_to_value_ratio</th>
<th data-quarto-table-cell-role="th">interest_rate</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">tract_median_age_of_housing_units</th>
<th data-quarto-table-cell-role="th">applicant_race</th>
<th data-quarto-table-cell-role="th">co-applicant_race</th>
<th data-quarto-table-cell-role="th">applicant_ethnicity</th>
<th data-quarto-table-cell-role="th">co-applicant_ethnicity</th>
<th data-quarto-table-cell-role="th">aus</th>
<th data-quarto-table-cell-role="th">denial_reason</th>
<th data-quarto-table-cell-role="th">outcome</th>
<th data-quarto-table-cell-role="th">company</th>
<th data-quarto-table-cell-role="th">income_from_median</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>OH</td>
<td>39153.0</td>
<td>Sex Not Available</td>
<td>1</td>
<td>0</td>
<td>2</td>
<td>2</td>
<td>665000.0</td>
<td>85.000</td>
<td>4.250</td>
<td>...</td>
<td>36</td>
<td>32768</td>
<td>131072</td>
<td>32</td>
<td>128</td>
<td>64</td>
<td>512</td>
<td>1.0</td>
<td>JP Morgan</td>
<td>True</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>NY</td>
<td>36061.0</td>
<td>Male</td>
<td>1</td>
<td>0</td>
<td>2</td>
<td>2</td>
<td>755000.0</td>
<td>21.429</td>
<td>4.250</td>
<td>...</td>
<td>0</td>
<td>32768</td>
<td>262144</td>
<td>64</td>
<td>256</td>
<td>64</td>
<td>512</td>
<td>1.0</td>
<td>JP Morgan</td>
<td>False</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>NY</td>
<td>36061.0</td>
<td>Sex Not Available</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>2</td>
<td>965000.0</td>
<td>80.000</td>
<td>5.250</td>
<td>...</td>
<td>0</td>
<td>65536</td>
<td>262144</td>
<td>64</td>
<td>256</td>
<td>64</td>
<td>512</td>
<td>1.0</td>
<td>JP Morgan</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>FL</td>
<td>12011.0</td>
<td>Male</td>
<td>1</td>
<td>0</td>
<td>2</td>
<td>2</td>
<td>705000.0</td>
<td>92.175</td>
<td>5.125</td>
<td>...</td>
<td>12</td>
<td>32768</td>
<td>262144</td>
<td>32</td>
<td>256</td>
<td>64</td>
<td>512</td>
<td>1.0</td>
<td>JP Morgan</td>
<td>False</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>MD</td>
<td>24031.0</td>
<td>Joint</td>
<td>1</td>
<td>0</td>
<td>2</td>
<td>2</td>
<td>1005000.0</td>
<td>65.574</td>
<td>5.625</td>
<td>...</td>
<td>69</td>
<td>66</td>
<td>32768</td>
<td>32</td>
<td>32</td>
<td>64</td>
<td>512</td>
<td>1.0</td>
<td>JP Morgan</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>NC</td>
<td>37089.0</td>
<td>Joint</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>2</td>
<td>695000.0</td>
<td>85.000</td>
<td>6.000</td>
<td>...</td>
<td>39</td>
<td>32768</td>
<td>32768</td>
<td>32</td>
<td>32</td>
<td>64</td>
<td>512</td>
<td>1.0</td>
<td>JP Morgan</td>
<td>False</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>CA</td>
<td>6073.0</td>
<td>Joint</td>
<td>2</td>
<td>0</td>
<td>2</td>
<td>2</td>
<td>905000.0</td>
<td>75.000</td>
<td>6.250</td>
<td>...</td>
<td>44</td>
<td>2</td>
<td>2</td>
<td>32</td>
<td>32</td>
<td>64</td>
<td>512</td>
<td>1.0</td>
<td>JP Morgan</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>NY</td>
<td>36061.0</td>
<td>Sex Not Available</td>
<td>2</td>
<td>0</td>
<td>1</td>
<td>2</td>
<td>355000.0</td>
<td>15.909</td>
<td>5.625</td>
<td>...</td>
<td>63</td>
<td>65536</td>
<td>65536</td>
<td>64</td>
<td>64</td>
<td>64</td>
<td>512</td>
<td>1.0</td>
<td>JP Morgan</td>
<td>False</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>NY</td>
<td>36061.0</td>
<td>Joint</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>2</td>
<td>1085000.0</td>
<td>90.000</td>
<td>5.625</td>
<td>...</td>
<td>75</td>
<td>32768</td>
<td>32768</td>
<td>32</td>
<td>32</td>
<td>64</td>
<td>512</td>
<td>1.0</td>
<td>JP Morgan</td>
<td>True</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>MO</td>
<td>29189.0</td>
<td>Sex Not Available</td>
<td>2</td>
<td>0</td>
<td>1</td>
<td>2</td>
<td>405000.0</td>
<td>53.333</td>
<td>5.750</td>
<td>...</td>
<td>0</td>
<td>65536</td>
<td>65536</td>
<td>64</td>
<td>64</td>
<td>64</td>
<td>512</td>
<td>1.0</td>
<td>JP Morgan</td>
<td>True</td>
</tr>
</tbody>
</table>

<p>10 rows × 51 columns</p>
</div>
</div>
</div>
</figure>
</div>
</div>
<div class="cell" data-execution_count="10">
<div id="tbl-mnb-pc-trn-data" class="cell quarto-float anchored" data-execution_count="10">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-mnb-pc-trn-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9.6: MultinomialNB Training Data (With protected classes)
</figcaption>
<div aria-describedby="tbl-mnb-pc-trn-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display">
<div>


<table class="dataframe do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">derived_sex_Female</th>
<th data-quarto-table-cell-role="th">derived_sex_Joint</th>
<th data-quarto-table-cell-role="th">derived_sex_Male</th>
<th data-quarto-table-cell-role="th">derived_sex_Sex Not Available</th>
<th data-quarto-table-cell-role="th">purchaser_type_0</th>
<th data-quarto-table-cell-role="th">purchaser_type_1</th>
<th data-quarto-table-cell-role="th">purchaser_type_3</th>
<th data-quarto-table-cell-role="th">purchaser_type_5</th>
<th data-quarto-table-cell-role="th">purchaser_type_6</th>
<th data-quarto-table-cell-role="th">purchaser_type_9</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">co-applicant_ethnicity_No Co-applicant</th>
<th data-quarto-table-cell-role="th">aus_Desktop Underwriter</th>
<th data-quarto-table-cell-role="th">aus_Loan Prospector/Product Advisor</th>
<th data-quarto-table-cell-role="th">aus_TOTAL Scorecard</th>
<th data-quarto-table-cell-role="th">aus_GUS</th>
<th data-quarto-table-cell-role="th">aus_Other</th>
<th data-quarto-table-cell-role="th">aus_Internal Proprietary</th>
<th data-quarto-table-cell-role="th">aus_Not applicable</th>
<th data-quarto-table-cell-role="th">aus_Exempt</th>
<th data-quarto-table-cell-role="th">outcome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">149746</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">105015</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">29094</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">101082</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">77750</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">197336</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">137650</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">136772</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">41734</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10710</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1.0</td>
</tr>
</tbody>
</table>

<p>10 rows × 244 columns</p>
</div>
</div>
</div>
</figure>
</div>
</div>
<div class="cell" data-execution_count="11">
<div id="tbl-mnb-pc-tst-data" class="cell quarto-float anchored" data-execution_count="11">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-mnb-pc-tst-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9.7: MultinomialNB Testing Data (With protected classes)
</figcaption>
<div aria-describedby="tbl-mnb-pc-tst-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display">
<div>


<table class="dataframe do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">derived_sex_Female</th>
<th data-quarto-table-cell-role="th">derived_sex_Joint</th>
<th data-quarto-table-cell-role="th">derived_sex_Male</th>
<th data-quarto-table-cell-role="th">derived_sex_Sex Not Available</th>
<th data-quarto-table-cell-role="th">purchaser_type_0</th>
<th data-quarto-table-cell-role="th">purchaser_type_1</th>
<th data-quarto-table-cell-role="th">purchaser_type_3</th>
<th data-quarto-table-cell-role="th">purchaser_type_5</th>
<th data-quarto-table-cell-role="th">purchaser_type_6</th>
<th data-quarto-table-cell-role="th">purchaser_type_9</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">co-applicant_ethnicity_No Co-applicant</th>
<th data-quarto-table-cell-role="th">aus_Desktop Underwriter</th>
<th data-quarto-table-cell-role="th">aus_Loan Prospector/Product Advisor</th>
<th data-quarto-table-cell-role="th">aus_TOTAL Scorecard</th>
<th data-quarto-table-cell-role="th">aus_GUS</th>
<th data-quarto-table-cell-role="th">aus_Other</th>
<th data-quarto-table-cell-role="th">aus_Internal Proprietary</th>
<th data-quarto-table-cell-role="th">aus_Not applicable</th>
<th data-quarto-table-cell-role="th">aus_Exempt</th>
<th data-quarto-table-cell-role="th">outcome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">30860</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">126890</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28730</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31244</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">56105</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5443</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">95702</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">83812</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">84338</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">124545</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>...</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1.0</td>
</tr>
</tbody>
</table>

<p>10 rows × 244 columns</p>
</div>
</div>
</div>
</figure>
</div>
</div>
<div class="cell" data-execution_count="12">
<div id="tbl-mnb-npc-trn-data" class="cell quarto-float anchored" data-execution_count="12">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-mnb-npc-trn-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9.8: MultinomialNB Training Data (No protected classes)
</figcaption>
<div aria-describedby="tbl-mnb-npc-trn-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display">
<div>


<table class="dataframe do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">purchaser_type_0</th>
<th data-quarto-table-cell-role="th">purchaser_type_1</th>
<th data-quarto-table-cell-role="th">purchaser_type_3</th>
<th data-quarto-table-cell-role="th">purchaser_type_5</th>
<th data-quarto-table-cell-role="th">purchaser_type_6</th>
<th data-quarto-table-cell-role="th">purchaser_type_9</th>
<th data-quarto-table-cell-role="th">purchaser_type_71</th>
<th data-quarto-table-cell-role="th">preapproval_1</th>
<th data-quarto-table-cell-role="th">preapproval_2</th>
<th data-quarto-table-cell-role="th">open-end_line_of_credit_1</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">tract_median_age_of_housing_units_H</th>
<th data-quarto-table-cell-role="th">tract_median_age_of_housing_units_M</th>
<th data-quarto-table-cell-role="th">tract_median_age_of_housing_units_MH</th>
<th data-quarto-table-cell-role="th">tract_median_age_of_housing_units_ML</th>
<th data-quarto-table-cell-role="th">company_Bank of America</th>
<th data-quarto-table-cell-role="th">company_JP Morgan</th>
<th data-quarto-table-cell-role="th">company_Navy Federal Credit Union</th>
<th data-quarto-table-cell-role="th">company_Rocket Mortgage</th>
<th data-quarto-table-cell-role="th">company_Wells Fargo</th>
<th data-quarto-table-cell-role="th">outcome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">149746</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">105015</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">29094</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">101082</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">77750</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">197336</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">137650</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">136772</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">41734</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10710</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
</tr>
</tbody>
</table>

<p>10 rows × 176 columns</p>
</div>
</div>
</div>
</figure>
</div>
</div>
<div class="cell" data-execution_count="13">
<div id="tbl-mnb-npc-tst-data" class="cell quarto-float anchored" data-execution_count="13">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-mnb-npc-tst-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9.9: MultinomialNB Training Data (No protected classes)
</figcaption>
<div aria-describedby="tbl-mnb-npc-tst-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display">
<div>


<table class="dataframe do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">purchaser_type_0</th>
<th data-quarto-table-cell-role="th">purchaser_type_1</th>
<th data-quarto-table-cell-role="th">purchaser_type_3</th>
<th data-quarto-table-cell-role="th">purchaser_type_5</th>
<th data-quarto-table-cell-role="th">purchaser_type_6</th>
<th data-quarto-table-cell-role="th">purchaser_type_9</th>
<th data-quarto-table-cell-role="th">purchaser_type_71</th>
<th data-quarto-table-cell-role="th">preapproval_1</th>
<th data-quarto-table-cell-role="th">preapproval_2</th>
<th data-quarto-table-cell-role="th">open-end_line_of_credit_1</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">tract_median_age_of_housing_units_H</th>
<th data-quarto-table-cell-role="th">tract_median_age_of_housing_units_M</th>
<th data-quarto-table-cell-role="th">tract_median_age_of_housing_units_MH</th>
<th data-quarto-table-cell-role="th">tract_median_age_of_housing_units_ML</th>
<th data-quarto-table-cell-role="th">company_Bank of America</th>
<th data-quarto-table-cell-role="th">company_JP Morgan</th>
<th data-quarto-table-cell-role="th">company_Navy Federal Credit Union</th>
<th data-quarto-table-cell-role="th">company_Rocket Mortgage</th>
<th data-quarto-table-cell-role="th">company_Wells Fargo</th>
<th data-quarto-table-cell-role="th">outcome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">30860</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">126890</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28730</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31244</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">56105</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5443</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">95702</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">83812</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">84338</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">124545</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>1.0</td>
</tr>
</tbody>
</table>

<p>10 rows × 176 columns</p>
</div>
</div>
</div>
</figure>
</div>
</div>
</section>
</section>
<section id="code" class="level2" data-number="9.3">
<h2 data-number="9.3" class="anchored" data-anchor-id="code"><span class="header-section-number">9.3</span> Code</h2>
<p>The code for both logistic regression can be found in <a href="app7.html" class="quarto-xref"><span>Appendix F</span></a> and multinomial naive bayes in <a href="app6.html" class="quarto-xref"><span>Appendix D</span></a>.</p>
</section>
<section id="results" class="level2" data-number="9.4">
<h2 data-number="9.4" class="anchored" data-anchor-id="results"><span class="header-section-number">9.4</span> Results</h2>
<section id="logistic-regression-1" class="level3" data-number="9.4.1">
<h3 data-number="9.4.1" class="anchored" data-anchor-id="logistic-regression-1"><span class="header-section-number">9.4.1</span> Logistic Regression</h3>
<div id="cell-fig-conf-mat-lr" class="cell" data-execution_count="16">
<div class="cell-output cell-output-display">
<div id="fig-conf-mat-lr" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-conf-mat-lr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="reg_files/figure-html/fig-conf-mat-lr-output-1.png" width="670" height="475" class="figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-conf-mat-lr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9.1: Logistic Regression Modeling Results
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-execution_count="17">
<div id="tbl-lr-metrics" class="cell quarto-float anchored" data-execution_count="17">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-lr-metrics-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9.10: Logistic Regression Model Metrics
</figcaption>
<div aria-describedby="tbl-lr-metrics-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display">
<style type="text/css">
</style>

<table id="T_ac569" class="do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th id="T_ac569_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Model</th>
<th id="T_ac569_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Data</th>
<th id="T_ac569_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Accuracy</th>
<th id="T_ac569_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Precision</th>
<th id="T_ac569_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">Recall</th>
<th id="T_ac569_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">F1</th>
<th id="T_ac569_level0_col6" class="col_heading level0 col6" data-quarto-table-cell-role="th">ROC-AUC</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_ac569_row0_col0" class="data row0 col0">Logistic Regression</td>
<td id="T_ac569_row0_col1" class="data row0 col1">With Protected Classes</td>
<td id="T_ac569_row0_col2" class="data row0 col2">0.961859</td>
<td id="T_ac569_row0_col3" class="data row0 col3">0.983022</td>
<td id="T_ac569_row0_col4" class="data row0 col4">0.972197</td>
<td id="T_ac569_row0_col5" class="data row0 col5">0.977579</td>
<td id="T_ac569_row0_col6" class="data row0 col6">0.936481</td>
</tr>
<tr class="even">
<td id="T_ac569_row1_col0" class="data row1 col0">Logistic Regression</td>
<td id="T_ac569_row1_col1" class="data row1 col1">Without Protected Classes</td>
<td id="T_ac569_row1_col2" class="data row1 col2">0.958859</td>
<td id="T_ac569_row1_col3" class="data row1 col3">0.981304</td>
<td id="T_ac569_row1_col4" class="data row1 col4">0.970385</td>
<td id="T_ac569_row1_col5" class="data row1 col5">0.975814</td>
<td id="T_ac569_row1_col6" class="data row1 col6">0.930562</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>There is a chance that the difference in performance of the models trained with and without protected class data could be due to random chance, namely the random splitting of training and testing data from the source datasets.</p>
<p>To examine the potential for the difference (albeit minute) between both modeling methods, one can conduct a randomization test on the source data itself to examine for a statistically significant difference in means.</p>
<p>To do so, one can shuffle the data multiple times into new training and testing datasets, re-train the models, and capture the performance scores of each model (one trained with, and one trained without, protected classes). From here, one achieve’s a distribution of the performance scores (such as Accuracy, Precision, Recall, F1, and ROC-AUC scores) of each model; when the number of randomizations increase, the distribution of each should approach a normal distribution.</p>
<p>To perform the randomization, the data was shuffled 500 times, and two models were trained on each shuffle, capturing the aforementioned scores. When these shuffles were executed, the following outcomes were achieved:</p>
<div id="cell-fig-dists-logreg" class="cell" data-tbl-cap="Per Metric Distribution (Logistic Regression, 500 Iterations)" data-execution_count="18">
<div class="cell-output cell-output-display">
<div id="fig-dists-logreg" class="quarto-figure quarto-figure-center quarto-float anchored" width="1086" height="577">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-dists-logreg-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="reg_files/figure-html/fig-dists-logreg-output-1.png" id="fig-dists-logreg" width="1086" height="577" class="figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-dists-logreg-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9.2
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-execution_count="19">
<div id="tbl-stat-performance" class="cell quarto-float anchored" data-execution_count="19">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-stat-performance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9.11: Per Metric Paired Z-test (Logistic Regression, 500 Iterations)
</figcaption>
<div aria-describedby="tbl-stat-performance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display">
<style type="text/css">
</style>

<table id="T_583c9" class="do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th id="T_583c9_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Stat</th>
<th id="T_583c9_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">z-score</th>
<th id="T_583c9_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">p-value</th>
<th id="T_583c9_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">top performer</th>
<th id="T_583c9_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">top mean</th>
<th id="T_583c9_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">difference in means</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_583c9_row0_col0" class="data row0 col0">Accuracy</td>
<td id="T_583c9_row0_col1" class="data row0 col1">44.648798</td>
<td id="T_583c9_row0_col2" class="data row0 col2">0.000000</td>
<td id="T_583c9_row0_col3" class="data row0 col3">With Protected Classes</td>
<td id="T_583c9_row0_col4" class="data row0 col4">0.963586</td>
<td id="T_583c9_row0_col5" class="data row0 col5">0.002457</td>
</tr>
<tr class="even">
<td id="T_583c9_row1_col0" class="data row1 col0">Precision</td>
<td id="T_583c9_row1_col1" class="data row1 col1">47.173034</td>
<td id="T_583c9_row1_col2" class="data row1 col2">0.000000</td>
<td id="T_583c9_row1_col3" class="data row1 col3">With Protected Classes</td>
<td id="T_583c9_row1_col4" class="data row1 col4">0.983867</td>
<td id="T_583c9_row1_col5" class="data row1 col5">0.001985</td>
</tr>
<tr class="odd">
<td id="T_583c9_row2_col0" class="data row2 col0">Recall</td>
<td id="T_583c9_row2_col1" class="data row2 col1">16.219786</td>
<td id="T_583c9_row2_col2" class="data row2 col2">0.000000</td>
<td id="T_583c9_row2_col3" class="data row2 col3">With Protected Classes</td>
<td id="T_583c9_row2_col4" class="data row2 col4">0.973386</td>
<td id="T_583c9_row2_col5" class="data row2 col5">0.000889</td>
</tr>
<tr class="even">
<td id="T_583c9_row3_col0" class="data row3 col0">F1</td>
<td id="T_583c9_row3_col1" class="data row3 col1">43.977874</td>
<td id="T_583c9_row3_col2" class="data row3 col2">0.000000</td>
<td id="T_583c9_row3_col3" class="data row3 col3">With Protected Classes</td>
<td id="T_583c9_row3_col4" class="data row3 col4">0.978598</td>
<td id="T_583c9_row3_col5" class="data row3 col5">0.001431</td>
</tr>
<tr class="odd">
<td id="T_583c9_row4_col0" class="data row4 col0">ROC-AUC</td>
<td id="T_583c9_row4_col1" class="data row4 col1">50.590439</td>
<td id="T_583c9_row4_col2" class="data row4 col2">0.000000</td>
<td id="T_583c9_row4_col3" class="data row4 col3">With Protected Classes</td>
<td id="T_583c9_row4_col4" class="data row4 col4">0.939526</td>
<td id="T_583c9_row4_col5" class="data row4 col5">0.006305</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>One can see that over 500 iterations of shuffling nearly 200k records, that the model trained on the multiple correspondence analysis that <em>included</em> protected class information had statistically better performance across all metrics.</p>
<p>This is a substantial finding. Namely, these significant difference signifies that including protected class information in logisitic regression confidently improves its predictive performance, better than if it were excluded as part of the model training data.</p>
<p>Furthermore, in comparison to all Naive Bayes models and all decision tree models, including their randomization testing, the Logistic Regression model outperforms them all in every metric. The most discerning factor is the fact that the ROC-AUC score for Logistic Regression is in the 90s, whereas few if any other ROC-AUCs for other models exceeded 89%.</p>
<p>What does this mean? It means that, if using logistic regression modeling to assess whether or not a loan should be approved, that a company could choose to include protected class data when building a linear regression model if they’re concerned about model performance.</p>
<p>Ethically speaking, however, it should be excluded outright. This is further evidenced by the overall difference in performance between two models trained on the exact same data, less protected class variable presence. The difference, while statistically significant, is not operationally significant, as the maximum difference in means for each performance metric is less than 0.6%.</p>
<p>Leveraging that ethical perspective, while the difference is significantly different, from a mathematical standpoint, that models leveraging protected class information outperform those that exclude it, the cost is minimal. Exclustion of protected class information still achieves incredibly high accuracy, precision, Recall, F1, and ROC-AUC, all ranging from 93%-98% to make predictions. Such modeling can be leveraged to inform one as to the likely outcome of the loan application, and can be leveraged in conjunction with other available relevant information to make an informed decision.</p>
</section>
<section id="multinomial-naive-bayes-1" class="level3" data-number="9.4.2">
<h3 data-number="9.4.2" class="anchored" data-anchor-id="multinomial-naive-bayes-1"><span class="header-section-number">9.4.2</span> Multinomial Naive Bayes</h3>
<p>The results here are the same as included and described within <a href="nb.html" class="quarto-xref"><span>Chapter 7</span></a>. The findings are the same.</p>
<div id="cell-fig-mnb2-1" class="cell" data-execution_count="20">
<div class="cell-output cell-output-display">
<div id="fig-mnb2-1" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-mnb2-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="reg_files/figure-html/fig-mnb2-1-output-1.png" width="670" height="475" class="figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mnb2-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9.3: Confusion Matrices (MultinomialNB, Single-Run)
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-execution_count="21">
<div id="tbl-mnb2-1" class="cell quarto-float anchored" data-execution_count="21">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-mnb2-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9.12: Model Performance Metrics (MultinomialNB, Single Run)
</figcaption>
<div aria-describedby="tbl-mnb2-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display">
<style type="text/css">
</style>

<table id="T_5970a" class="do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th id="T_5970a_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Model</th>
<th id="T_5970a_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Data</th>
<th id="T_5970a_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">Accuracy</th>
<th id="T_5970a_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">Precision</th>
<th id="T_5970a_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">Recall</th>
<th id="T_5970a_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">F1</th>
<th id="T_5970a_level0_col6" class="col_heading level0 col6" data-quarto-table-cell-role="th">ROC-AUC</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_5970a_row0_col0" class="data row0 col0">MultinomialNB</td>
<td id="T_5970a_row0_col1" class="data row0 col1">With Protected Classes</td>
<td id="T_5970a_row0_col2" class="data row0 col2">0.936358</td>
<td id="T_5970a_row0_col3" class="data row0 col3">0.967880</td>
<td id="T_5970a_row0_col4" class="data row0 col4">0.957361</td>
<td id="T_5970a_row0_col5" class="data row0 col5">0.962591</td>
<td id="T_5970a_row0_col6" class="data row0 col6">0.884798</td>
</tr>
<tr class="even">
<td id="T_5970a_row1_col0" class="data row1 col0">MultinomialNB</td>
<td id="T_5970a_row1_col1" class="data row1 col1">Without Protected Classes</td>
<td id="T_5970a_row1_col2" class="data row1 col2">0.939653</td>
<td id="T_5970a_row1_col3" class="data row1 col3">0.969309</td>
<td id="T_5970a_row1_col4" class="data row1 col4">0.959833</td>
<td id="T_5970a_row1_col5" class="data row1 col5">0.964548</td>
<td id="T_5970a_row1_col6" class="data row1 col6">0.890112</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<div id="cell-fig-mnb2-2" class="cell" data-execution_count="22">
<div class="cell-output cell-output-display">
<div id="fig-mnb2-2" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-mnb2-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="reg_files/figure-html/fig-mnb2-2-output-1.png" width="1086" height="577" class="figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mnb2-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9.4: Metric Kernel Density Estimates (500 randomizations, MultinomialNB)
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-execution_count="23">
<div id="tbl-mnb2-2" class="cell quarto-float anchored" data-execution_count="23">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-mnb2-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9.13: Statistical Significance Tests (Model Performance Metrics, MultinomialNB)
</figcaption>
<div aria-describedby="tbl-mnb2-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output cell-output-display">
<style type="text/css">
</style>

<table id="T_8ebfc" class="do-not-create-environment cell table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th id="T_8ebfc_level0_col0" class="col_heading level0 col0" data-quarto-table-cell-role="th">Model</th>
<th id="T_8ebfc_level0_col1" class="col_heading level0 col1" data-quarto-table-cell-role="th">Stat</th>
<th id="T_8ebfc_level0_col2" class="col_heading level0 col2" data-quarto-table-cell-role="th">z-score</th>
<th id="T_8ebfc_level0_col3" class="col_heading level0 col3" data-quarto-table-cell-role="th">p-value</th>
<th id="T_8ebfc_level0_col4" class="col_heading level0 col4" data-quarto-table-cell-role="th">top performer</th>
<th id="T_8ebfc_level0_col5" class="col_heading level0 col5" data-quarto-table-cell-role="th">top mean</th>
<th id="T_8ebfc_level0_col6" class="col_heading level0 col6" data-quarto-table-cell-role="th">difference in means</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td id="T_8ebfc_row0_col0" class="data row0 col0">MultinomialNB</td>
<td id="T_8ebfc_row0_col1" class="data row0 col1">Accuracy</td>
<td id="T_8ebfc_row0_col2" class="data row0 col2">-1.242399</td>
<td id="T_8ebfc_row0_col3" class="data row0 col3">0.214090</td>
<td id="T_8ebfc_row0_col4" class="data row0 col4">Without Protected Classes</td>
<td id="T_8ebfc_row0_col5" class="data row0 col5">0.804602</td>
<td id="T_8ebfc_row0_col6" class="data row0 col6">0.000175</td>
</tr>
<tr class="even">
<td id="T_8ebfc_row1_col0" class="data row1 col0">MultinomialNB</td>
<td id="T_8ebfc_row1_col1" class="data row1 col1">Precision</td>
<td id="T_8ebfc_row1_col2" class="data row1 col2">12.735062</td>
<td id="T_8ebfc_row1_col3" class="data row1 col3">0.000000</td>
<td id="T_8ebfc_row1_col4" class="data row1 col4">With Protected Classes</td>
<td id="T_8ebfc_row1_col5" class="data row1 col5">0.914013</td>
<td id="T_8ebfc_row1_col6" class="data row1 col6">0.000778</td>
</tr>
<tr class="odd">
<td id="T_8ebfc_row2_col0" class="data row2 col0">MultinomialNB</td>
<td id="T_8ebfc_row2_col1" class="data row2 col1">Recall</td>
<td id="T_8ebfc_row2_col2" class="data row2 col2">-7.701771</td>
<td id="T_8ebfc_row2_col3" class="data row2 col3">0.000000</td>
<td id="T_8ebfc_row2_col4" class="data row2 col4">Without Protected Classes</td>
<td id="T_8ebfc_row2_col5" class="data row2 col5">0.852538</td>
<td id="T_8ebfc_row2_col6" class="data row2 col6">0.001103</td>
</tr>
<tr class="even">
<td id="T_8ebfc_row3_col0" class="data row3 col0">MultinomialNB</td>
<td id="T_8ebfc_row3_col1" class="data row3 col1">F1</td>
<td id="T_8ebfc_row3_col2" class="data row3 col2">-2.489032</td>
<td id="T_8ebfc_row3_col3" class="data row3 col3">0.012809</td>
<td id="T_8ebfc_row3_col4" class="data row3 col4">Without Protected Classes</td>
<td id="T_8ebfc_row3_col5" class="data row3 col5">0.881842</td>
<td id="T_8ebfc_row3_col6" class="data row3 col6">0.000228</td>
</tr>
<tr class="odd">
<td id="T_8ebfc_row4_col0" class="data row4 col0">MultinomialNB</td>
<td id="T_8ebfc_row4_col1" class="data row4 col1">ROC-AUC</td>
<td id="T_8ebfc_row4_col2" class="data row4 col2">10.578913</td>
<td id="T_8ebfc_row4_col3" class="data row4 col3">0.000000</td>
<td id="T_8ebfc_row4_col4" class="data row4 col4">With Protected Classes</td>
<td id="T_8ebfc_row4_col5" class="data row4 col5">0.689026</td>
<td id="T_8ebfc_row4_col6" class="data row4 col6">0.002104</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>Examining MultinomialNB’s performance, it seems to have fairly low performance in terms of accuracy. This is likely caused by the fact that it was provided with Bernoulli data, as it was the only way to obtain count data from the source records. That being said, the performance is quite precise.</p>
<p>Across 500 iterations of MultinomialNB, there was not a significant difference in accuracy or F1 score of the models when they were and when they weren’t trained with protected class information. For other cases, the difference, while statistically significant, was within 1 percentage point of the top performer. Operationally speaking, there’s not a substantial need for that level of performance. The protected class information inclusion or exclusion makes a statistically significant, but not operationally impactful, difference in model performance.</p>
</section>
</section>
<section id="overall" class="level2" data-number="9.5">
<h2 data-number="9.5" class="anchored" data-anchor-id="overall"><span class="header-section-number">9.5</span> Overall</h2>
<p>The performance of Logistic Regression, with and without protected classes, far outshined the performance of Multinomial Naive Bayes. Multinomial Naive Bayes may have had better performance had the data provided the opportunity to better be count-vectorized, and as such is better suited for assessing document classification than individual record classification.</p>
<p>Another difference in the models is what they do and how they do it. Logisitic Regression is discriminative, meaning that we know the potential output classes and one crafts the model to maximize the likelihood of predicting a correct probability for a class, given new input data. MultinomialNB, however, is <em>generative</em> and seeks to identify the probability of the data, given a class.</p>
<p>Thus far, Logistic Regression’s accuracy (along with other metrics) makes it a top contender for modeling. This, however, comes at the cost of substantial dimensionality to explain approximately 99.99% of the variance in the data with the MCA execution. If dimensionality reduction, computational memory and time were a constraint, it may render the execution of future predictions with logisitic regression infeasible. This especially becomes the case when the model needs to be refit with additional new data; the sheer volume of features and row vectors produces a tremendous amount of data (near 1 Gb), and the execution of gradient descent upon said data to produce a well-performing logisitic regression is also computationally expensive and time consuming.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="./dt.html" class="pagination-link  aria-label=" &lt;span="" tree="" modeling&lt;="" span&gt;"="">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Decision Tree Modeling</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./references.html" class="pagination-link" aria-label="References">
        <span class="nav-page-text">References</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>